<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>one-学习笔记</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="javascript:;">Hannahza</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="javascript:;">Home</a>
                </li>
                
                <li>
                    <a href="javascript:;">About</a>
                </li>
                
                <li>
                    <a href="javascript:;">time</a>
                </li>
                
                <li>
                    <a href="javascript:;">Tags</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<header class="intro-header" style="background-image: url('img/notes_one.jpg');background-size:cover;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="site-heading">
                    <h1>One - 学习笔记</h1>
                    <h2 class="subheading">RegExp 之贪婪模式、JavaScript 距离、图片预加载</h2>
                    <span class="meta">Posted by Hannahza on April 4, 2016</span>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container">
				<div id="preview-contents" class="note-content">
                    <div id="wmd-preview" class="preview-content"></div>
                    <div id="wmd-preview-section-29" class="wmd-preview-section preview-content">
                    </div>
<div id="wmd-preview-section-480" class="wmd-preview-section preview-content">
    <h4 id="一regexp-之贪婪模式">一、RegExp 之贪婪模式</h4>
	<p>＃   什么是贪婪匹配？</p>
	<blockquote>
        <p>The three common quantifiers (*, + and ?) are greedy by default because they match as many characters as possible.</p>
	</blockquote>
	<p>也就是说贪婪模式会匹配尽可能多的字符。</p>
	<p>＃   例子</p>
</div>
<div id="wmd-preview-section-521" class="wmd-preview-section preview-content">
	<pre class="prettyprint hljs-light"><code class="language-javascript hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">//  正则默认是贪婪模式的</span><br /><span class="hljs-comment line-number">2.</span><span class="hljs-keyword">var</span> str = <span class="hljs-string">'abbcaddcaeec'</span>;<br /><span class="hljs-comment line-number">3.</span><span class="hljs-keyword">var</span> re = <span class="hljs-regexp">/a.+c/</span>;<br /><span class="hljs-comment line-number">4.</span><span class="hljs-built_in">console</span>.log(str.match(re)); <br /></code></pre>
	<p>审查元素： <br />
	   <img src="img/regexp1.png" alt="All Text">
    </p>
    <p>
    	在检查器中，我们可以看出，你可能想匹配的是<code>abbc</code> <code>addc</code> 或者 <code>aeec</code> ,但最终的结果匹配到了 <code>abbcaddcaeec</code>.因为 they match as many characters as possible.
    </p>
</div>
<div id="wmd-preview-section-775" class="wmd-preview-section preview-content">
     <pre class="prettyprint hljs-light"><code class="language-javascript hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-comment">//  非贪婪模式</span><br /><span class="hljs-comment line-number">2.</span><span class="hljs-keyword">var</span> str = <span class="hljs-string">'abbcaddcaeec'</span>;<br /><span class="hljs-comment line-number">3.</span><span class="hljs-keyword">var</span> re = <span class="hljs-regexp">/a.+？c/</span>;<br /><span class="hljs-comment line-number">4.</span><span class="hljs-built_in">console</span>.log(str.match(re)); <br /></code>
     </pre>
<p>审查元素： <br />
	<img src="img/regexp2.png" alt="All Text">
	<br />
    在量词后面直接加上一个问号 ? , 就是非贪婪模式。如上，就只匹配到了 <code>abbc</code>.
</p>
</div>
<div id="wmd-preview-section-1593" class="wmd-preview-section preview-content">
<h4 id="二距离">二、距离</h4>
<p>主要记录一下原生 JavaScript 获取距离的方法，其它库或框架可查询相关官网。</p>

<p>＃   event 事件当中的距离</p></div><div id="wmd-preview-section-1882" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-light"><code class="language-javascript hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span>(<span class="hljs-params">ev</span>)</span>{<br /><span class="hljs-comment line-number">2.</span>    <span class="hljs-keyword">var</span> ev = ev || event,<br /><span class="hljs-comment line-number">3.</span>        x = ev.clientX,<br /><span class="hljs-comment line-number">4.</span>        y = ev.clientY;<br /><span class="hljs-comment line-number">5.</span>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'clientX: '</span>+x+<span class="hljs-string">';clientY: '</span>+y); <br /><span class="hljs-comment line-number">6.</span>}<br /></code></pre>

<p><code>ev.clientX</code>,事件属性返回当事件被触发时鼠标指针向对于浏览器页面（或客户区）的水平坐标。它相对的是整个视图窗口。<code>ev.clientY</code>同理。</p></div><div id="wmd-preview-section-2443" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-light"><code class="language-javascript hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show2</span>(<span class="hljs-params">ev</span>)</span>{<br /><span class="hljs-comment line-number">2.</span>    <span class="hljs-keyword">var</span> ev = ev || event,<br /><span class="hljs-comment line-number">3.</span>        Px = ev.pageX,<br /><span class="hljs-comment line-number">4.</span>        Py = ev.pageY;<br /><span class="hljs-comment line-number">5.</span><br /><span class="hljs-comment line-number">6.</span>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'pageX: '</span>+Px+<span class="hljs-string">';pageY: '</span>+Py); <br /><span class="hljs-comment line-number">7.</span>}<br /></code></pre>

<p><code>ev.pageX</code>,事件属性是鼠标指针的位置，相对于文档的左边缘。它相对的是整个文档。<code>ev.pageY</code>同理。</p>

<p>＃   element.offsetXXX</p>

<ul><li><code>element.offsetParent</code>,离当前元素最近的一个有定位属性的父节点。</li>
<li><code>element.offsetLeft</code>,当前元素到定位父级的左距离（左偏移值），也就是到当前元素的offsetParent的左距离。<code>element.offsetTop</code>同理。</li>
</ul>

<p>
	有时，我们想要知道某个元素到整个文档最左、最顶部的距离，我们可以利用这三个属性封装一个方法。
</p>

</div>
<div id="wmd-preview-section-2975" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-light"><code class="language-javascript hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPos</span>(<span class="hljs-params">obj</span>)</span>{<br /><span class="hljs-comment line-number">2.</span>    <span class="hljs-keyword">var</span> pos = {<br /><span class="hljs-comment line-number">3.</span>        left: <span class="hljs-number">0</span>,<br /><span class="hljs-comment line-number">4.</span>        right: <span class="hljs-number">0</span><br /><span class="hljs-comment line-number">5.</span>    };<br /><span class="hljs-comment line-number">6.</span>    <span class="hljs-keyword">while</span>(obj){<br /><span class="hljs-comment line-number">7.</span>        pos.left += obj.offsetLeft;<br /><span class="hljs-comment line-number">8.</span>        pos.top += obj.offsetTop;<br /><span class="hljs-comment line-number">9.</span>        obj = obj.offsetParent;<br /><span class="hljs-comment line-number">10.</span>    }<br /><span class="hljs-comment line-number">11.</span><br /><span class="hljs-comment line-number">12.</span>    <span class="hljs-keyword">return</span> pos;<br /><span class="hljs-comment line-number">13.</span>}<br /></code></pre>

<p>＃   其他</p>

<ul><li>窗口文档元素的宽高</li></ul>

</div>
<div id="wmd-preview-section-3066" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-light"><code class="language-javascript hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> viewW = <span class="hljs-built_in">document</span>.documentElement.clientWidth,<br /><span class="hljs-comment line-number">2.</span>    viewH = <span class="hljs-built_in">document</span>.documentElement.clientHeight;<br /></code></pre>

<ul><li>整个文档元素的宽高</li></ul>

</div>
<div id="wmd-preview-section-3155" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-light"><code class="language-javascript hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> docW = <span class="hljs-built_in">document</span>.documentElement.offsetWidth || <span class="hljs-built_in">document</span>.body.offsetWidth,<br /><span class="hljs-comment line-number">2.</span>    docH = <span class="hljs-built_in">document</span>.documentElement.offsetHeight || <span class="hljs-built_in">document</span>.body.offsetHeight;<br /></code></pre>

<ul><li>滚动条的滚动距离</li></ul>

</div>
<div id="wmd-preview-section-3180" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-light"><code class="language-javascript hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> scrollTop = <span class="hljs-built_in">document</span>.documentElement.scrollTop || <span class="hljs-built_in">document</span>.body.scrollTop;<br /></code></pre></div><div id="wmd-preview-section-4038" class="wmd-preview-section preview-content">

<h4 id="三图片预加载">三、图片预加载</h4>

<p>图片预加载是提高用户体验的一种很好的方式，在使用该图片之前就加载完毕，使用时就不需要再次加载该图片。</p>

<p>＃ 使用 JavaScript 实现图片预加载</p>

</div>
<div id="wmd-preview-section-5145" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-light"><code class="language-javascript hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-built_in">window</span>.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<br /><span class="hljs-comment line-number">2.</span>    <span class="hljs-keyword">var</span> src1 = <span class="hljs-string">'图片地址'</span>,<br /><span class="hljs-comment line-number">3.</span>        src2 = <span class="hljs-string">'图片地址'</span>,<br /><span class="hljs-comment line-number">4.</span>        src3 = <span class="hljs-string">'图片地址'</span>;<br /><span class="hljs-comment line-number">5.</span><br /><span class="hljs-comment line-number">6.</span>    preloader(src1,src2,src3);<br /><span class="hljs-comment line-number">7.</span>}<br /><span class="hljs-comment line-number">8.</span><br /><span class="hljs-comment line-number">9.</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">preloader</span>(<span class="hljs-params">url1,url2,url3</span>) </span>{ <br /><span class="hljs-comment line-number">10.</span>    <span class="hljs-keyword">var</span> images = [];<br /><span class="hljs-comment line-number">11.</span>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,len=<span class="hljs-built_in">arguments</span>.length;i&lt;len;i++){<br /><span class="hljs-comment line-number">12.</span>        images[i] = <span class="hljs-keyword">new</span> Image();<br /><span class="hljs-comment line-number">13.</span>        images[i].src = <span class="hljs-built_in">arguments</span>[i];<br /><span class="hljs-comment line-number">14.</span>    } <br /><span class="hljs-comment line-number">15.</span>} <br /></code></pre>

<p>使用上述代码有些缺陷，当使用 Webpack 给图片添加 md5 的时候，由于图片地址发生了改变，此方法便会生效。</p>

<p>＃   使用 HTML CSS 实现图片预加载</p>

</div>
<div id="wmd-preview-section-5423" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-light"><code class="language-vbscript-html hljs"><span class="hljs-comment line-number">1.</span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"preload pimg1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span><br /><span class="hljs-comment line-number">2.</span><span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"preload pimg2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span><br /><span class="hljs-comment line-number">3.</span><span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"preload pimg3"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span></span><br /></code></pre>
</div>
<div id="wmd-preview-section-6112" class="wmd-preview-section preview-content">

<pre class="prettyprint hljs-light"><code class="language-css hljs"><span class="hljs-comment line-number">1.</span><span class="hljs-class">.preload</span><span class="hljs-rules">{<br /><span class="hljs-comment line-number">2.</span>    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">1px</span></span></span>;<br /><span class="hljs-comment line-number">3.</span>    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">1px</span></span></span>;<br /><span class="hljs-comment line-number">4.</span>    <span class="hljs-rule"><span class="hljs-attribute">visibility</span>:<span class="hljs-value"> hidden</span></span>;<br /><span class="hljs-comment line-number">5.</span>}</span><br /><span class="hljs-comment line-number">6.</span><span class="hljs-class">.pimg1</span><span class="hljs-rules">{<br /><span class="hljs-comment line-number">7.</span>    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> <span class="hljs-function">url</span>(./images/a.png) no-repeat</span></span>;<br /><span class="hljs-comment line-number">8.</span>}</span><br /><span class="hljs-comment line-number">9.</span><span class="hljs-class">.pimg2</span><span class="hljs-rules">{<br /><span class="hljs-comment line-number">10.</span>    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> <span class="hljs-function">url</span>(./images/b.png) no-repeat</span></span>;<br /><span class="hljs-comment line-number">11.</span>}</span><br /><span class="hljs-comment line-number">12.</span><span class="hljs-class">.pimg3</span><span class="hljs-rules">{<br /><span class="hljs-comment line-number">13.</span>    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> <span class="hljs-function">url</span>(./images/c.png) no-repeat</span></span>;<br /><span class="hljs-comment line-number">14.</span>}</span><br /></code></pre>

<p>
	该方法也有缺陷，增加了页面的整体加载时间。也可以使用 Ajax 等方法实现图片预加载，各个方法各有优缺，可以根据具体情况来选择使用哪一种方法。
</p>
</div>
<div id="wmd-preview-section-footnotes" class="preview-content"></div>
              
</article>



</body>
</html>